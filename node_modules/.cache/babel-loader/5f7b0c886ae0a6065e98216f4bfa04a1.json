{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\16474\\\\Documents\\\\classs\\\\frontend2020\\\\react\\\\assignment_04\\\\src\\\\login.js\";\nimport React, { Component } from 'react';\nimport { REGISTER_PAGE_ID, LIST_PAGE_ID, TREE_ARR } from './constants';\nimport './App.css';\nexport default class LoginView extends Component {\n  constructor(props) {\n    super(props);\n    let treeArr = JSON.parse(localStorage.getItem(\"Tree_Arr\"));\n\n    if (treeArr === \"\" || treeArr === null || treeArr === undefined) {\n      localStorage.setItem(\"Tree_Arr\", JSON.stringify(TREE_ARR));\n    }\n\n    this.state = {\n      error: \"\",\n      username: \"\",\n      password: \"\",\n      loggedInUserObj: null\n    };\n    this.onUsernameChange = this.onUsernameChange.bind(this);\n    this.onPasswordChange = this.onPasswordChange.bind(this);\n    this.onLoginClick = this.onLoginClick.bind(this);\n    this.onRegisterClick = this.onRegisterClick.bind(this);\n  }\n\n  onUsernameChange(event) {\n    this.setState({\n      error: \"\"\n    });\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  onPasswordChange(event) {\n    this.setState({\n      error: \"\"\n    });\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  onLoginClick(event) {\n    event.preventDefault();\n    const {\n      username,\n      password\n    } = this.state;\n    let user = JSON.parse(localStorage.getItem(\"UserData\"));\n    let userDatum = {};\n    let isFound = false;\n\n    if (user === null || user === \"\" || user === undefined) {\n      this.setState({\n        error: \"User doesn't Exists\"\n      });\n    } else {\n      for (userDatum of user) {\n        if (username === userDatum.username && password === userDatum.password) {\n          this.setState({\n            loggedInUserObj: userDatum\n          });\n          localStorage.setItem(\"Logged-in-User\", JSON.stringify(userDatum));\n          isFound = true;\n          break;\n        }\n      }\n\n      if (isFound === true) {\n        alert(\"Logged in Successfully!\");\n        this.props.onPageChange(LIST_PAGE_ID);\n      } else {\n        this.setState({\n          error: \"Username or Password is incorrect!\"\n        });\n      }\n    }\n  }\n\n  onRegisterClick(event) {\n    event.preventDefault();\n    this.props.onPageChange(REGISTER_PAGE_ID);\n  }\n\n  render() {\n    const {\n      username,\n      password,\n      error\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"div\", {\n      className: \"validation-error\",\n      style: {\n        marginLeft: \"26%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, error), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Username\",\n      value: username,\n      onChange: event => {\n        this.onUsernameChange(event);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: password,\n      onChange: event => {\n        this.onPasswordChange(event);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: event => {\n        this.onLoginClick(event);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        marginLeft: \"30%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"New User? \", React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.onRegisterClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Click Here\"), \" to Register\"));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/16474/Documents/classs/frontend2020/react/assignment_04/src/login.js"],"names":["React","Component","REGISTER_PAGE_ID","LIST_PAGE_ID","TREE_ARR","LoginView","constructor","props","treeArr","JSON","parse","localStorage","getItem","undefined","setItem","stringify","state","error","username","password","loggedInUserObj","onUsernameChange","bind","onPasswordChange","onLoginClick","onRegisterClick","event","setState","target","value","preventDefault","user","userDatum","isFound","alert","onPageChange","render","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { REGISTER_PAGE_ID,LIST_PAGE_ID,TREE_ARR } from './constants';\r\nimport './App.css';\r\n\r\nexport default class LoginView extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    let treeArr = JSON.parse(localStorage.getItem(\"Tree_Arr\"));\r\n    if(treeArr === \"\" || treeArr === null || treeArr === undefined){\r\n      localStorage.setItem(\"Tree_Arr\",JSON.stringify(TREE_ARR));\r\n    }\r\n    this.state={\r\n      error:\"\",\r\n      username:\"\",\r\n      password:\"\",\r\n      loggedInUserObj:null,\r\n\r\n    }\r\n    this.onUsernameChange = this.onUsernameChange.bind(this);\r\n    this.onPasswordChange = this.onPasswordChange.bind(this);\r\n    this.onLoginClick = this.onLoginClick.bind(this);\r\n    this.onRegisterClick = this.onRegisterClick.bind(this);\r\n  }\r\n  onUsernameChange(event){\r\n    this.setState({\r\n      error:\"\",\r\n    })\r\n    this.setState({\r\n      username:event.target.value,\r\n    })\r\n  }\r\n  onPasswordChange(event){\r\n    this.setState({\r\n      error:\"\",\r\n    })\r\n    this.setState({\r\n      password:event.target.value,\r\n    })\r\n  }\r\n  onLoginClick(event){\r\n    event.preventDefault();\r\n    const { username,password } = this.state;\r\n\r\n    let user = JSON.parse(localStorage.getItem(\"UserData\"));\r\n    let userDatum = {};\r\n    let isFound = false;\r\n    if(user === null || user === \"\" || user === undefined ){\r\n      this.setState({\r\n        error:\"User doesn't Exists\"\r\n      })\r\n    }\r\n    else{\r\n    for (userDatum of user) {\r\n      if(username === userDatum.username && password === userDatum.password){\r\n        this.setState({\r\n          loggedInUserObj : userDatum,\r\n        })\r\n        localStorage.setItem(\"Logged-in-User\",JSON.stringify(userDatum));\r\n        isFound = true;\r\n        break;\r\n      }\r\n    }\r\n    if(isFound === true){\r\n      alert(\"Logged in Successfully!\")\r\n      this.props.onPageChange(LIST_PAGE_ID);\r\n    }\r\n    else{\r\n      this.setState({\r\n        error:\"Username or Password is incorrect!\"\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n  onRegisterClick(event){\r\n    event.preventDefault();\r\n    this.props.onPageChange(REGISTER_PAGE_ID);\r\n  }\r\n  render(){\r\n    const { username,password,error } = this.state;\r\n    return(\r\n      <div className=\"login\">\r\n          <h1>Login</h1>\r\n          <div className=\"validation-error\" style={{marginLeft:\"26%\"}}>\r\n              {error}\r\n          </div>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            value={username}\r\n            onChange={ (event)=>{this.onUsernameChange(event)}}\r\n          />\r\n          <br />\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={ (event)=>{this.onPasswordChange(event)}}\r\n          />\r\n          <br />\r\n          <br />\r\n          <button onClick={(event)=>{this.onLoginClick(event)}}>Login</button>\r\n          <br />\r\n          <br />\r\n          <span style={{marginLeft:\"30%\"}}>New User? <a href=\"#\" onClick={this.onRegisterClick}>Click Here</a> to Register</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}